@(editorForm: Form[EditedItem], owner: Account, repositoryName: String, blob:Blob, path: String)(implicit request: RepositoryRequestHeader)

@import views.html.helper._

@main {

@request.flash.get("success").map { message =>
<div class="alert-message warning">
    <strong>Done!</strong> @message
</div>
}

@request.flash.get("error").map { message =>
<div class="alert-message warning">
    <strong>Error!</strong> @message
</div>
}

<h1>@repositoryName</h1>

@form(routes.RepositoryController.edit(owner.userName, repositoryName, path), Symbol("enctype") -> "multipart/form-data") {
@CSRF.formField
@inputText(editorForm("newFileName"), Symbol("_value") -> "filename", Symbol("_label") -> "File name", Symbol("_help") -> "")

<textarea id="code" class="editor">@blob.content.content</textarea>

@inputText(editorForm("message"), Symbol("_label") -> "Commit message", Symbol("_help") -> "", Symbol("_value") -> "Edited in web interface")

@inputText(editorForm("oldFileName"),  Symbol("hidden") -> "hidden", Symbol("_label") -> "", Symbol("_help") -> "")
<input type="submit" />
}
<link rel="stylesheet" media="screen" href="@routes.Assets.at("dist/stylesheets/edit.css")"/>
<script src="@routes.Assets.at("dist/js/edit.js")" type="text/javascript"></script>
}
