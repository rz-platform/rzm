@(userEditForm: Form[AccountData], passwordUpdateForm: Form[PasswordData])(implicit request: UserRequestHeader)
@import views.html.helper._
@import base._
@import helpers._

@auth(request.messages("profile.title")) {
<h1>@request.messages("profile.title")</h1>
@notificationHeader()
@form(routes.AccountController.editProfile(), Symbol("class") -> "rz-form rz-form-stacked") {
  @CSRF.formField
  @inputText(userEditForm("userName"), Symbol("_label") -> "User login", Symbol("_help") -> "", Symbol("readonly") -> "readonly")
  @inputText(userEditForm("fullName"), Symbol("_label") -> "Full name", Symbol("_help") -> "")
  @inputText(userEditForm("mailAddress"), Symbol("_label") -> "Mail address", Symbol("_help") -> "")
  @inputText(userEditForm("description"), Symbol("_label") -> "Your background", Symbol("_help") -> "")
<div class="actions"><input type="submit" value='@request.messages("profile.submit.data")' class="rz-button rz-button-primary"/></div>
}

@form(routes.AccountController.updatePassword(), Symbol("class") -> "rz-form") {
  @CSRF.formField
  @inputPassword(passwordUpdateForm("oldPassword"), Symbol("_label") -> "Current password", Symbol("_help") -> "")
  @inputPassword(passwordUpdateForm("newPassword"), Symbol("_label") -> "New Password", Symbol("_help") -> "")
<div class="actions"><input type="submit" value='@request.messages("profile.submit.password")' class="rz-button rz-button-primary"/>
</div>
}

@helper.form(action = routes.AccountController.uploadProfilePicture, Symbol("enctype") -> "multipart/form-data", Symbol("class") -> "rz-form") {
<fieldset>
@CSRF.formField
@if(request.account.hasPicture) {
<p><img src="@routes.AccountController.profilePicture(request.account.userName)"/></p>
}
<input type="file" name="picture"/>

<p>
  <input type="submit" value='@request.messages("profile.submit.picture")' class="rz-button rz-button-primary">
</p>
</fieldset>
}

@if(request.account.hasPicture) {
  @helper.form(action = routes.AccountController.removeProfilePicture) {
  @CSRF.formField
  <input type="submit" value='@request.messages("profile.delete.picture")'  class="rz-button rz-button-primary">
  }
}
}
