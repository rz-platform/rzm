@(uploadForm: Form[UploadFileForm], rev: String, path: String)(implicit request: RepositoryRequestHeader)
@import views.html.helper._
@import base._
@import helpers._

@auth(request.messages("repository.upload.title")) {
@repositoryHeader(FileUploadPage)
<div class="upload-page">
  <h1>@request.messages("repository.upload.title")</h1>
  @if(!path.isEmpty) {
    <p>@request.messages("repository.upload.messagePath", path)</p>
  } else {
    <p>@request.messages("repository.upload.messageRoot")</p>
  }
  @form(routes.GitEntitiesController.upload(request.repository.owner.userName, request.repository.name, rev),
  Symbol("enctype") -> "multipart/form-data", Symbol("class") -> "rz-form") {
  @CSRF.formField
  <input type="file" id="filepicker" name="fileList" multiple accept="image/*,text/*"/>
  <ul id="listing"></ul>

  <input type="hidden" name="path" value='@path'/>

  <label for="single" class="rz-radio">
    <input type="radio" id="single" name="input-type" value="single" checked>
    @request.messages("repository.upload.singleFile")
  </label>

  <label for="directory" class="rz-radio">
    <input type="radio" id="directory" name="input-type" value="directory">
    @request.messages("repository.upload.completeDirectory")
  </label>

  <input type="submit" class="rz-button" value='@request.messages("repository.upload.submit")'/>
  }
</div>
<script src='@routes.Assets.at("dist/javascript/upload.js")' type="text/javascript"></script>
}
