@(blob:Blob, path:String, rev: String, breadcrumbs: Breadcrumbs, fileTree: FileTree)(implicit request: RepositoryRequestHeader)
@import base._
@import helpers._

@auth(request.messages("repository.viewFile.title")) {
@fileTreeView(fileTree)
<div id="main">
<div class="content">
  <div class="repo-header">
    @repositoryBreadcrumb(breadcrumbs)
    <a class="rz-button"
       href="@routes.GitEntitiesController.raw(request.repository.owner.userName, request.repository.name, rev, path)">
      @request.messages("repository.viewFile.raw")
    </a>
    @if(blob.content.viewType == "text"){
    @if(request.role <= AccessLevel.canEdit) {
    <a class="rz-button"
       href="@routes.GitEntitiesController.editFilePage(request.repository.owner.userName, request.repository.name, rev, path)">
      @request.messages("repository.viewFile.edit")
    </a>
    }
    }
  </div>

  @if(blob.content.viewType == "text"){
    <textarea id="code" name="content" class="editor">@blob.content.content</textarea>
  }

  @if(blob.content.viewType == "image"){
  <img src="@routes.GitEntitiesController.raw(request.repository.owner.userName, request.repository.name, request.repository.defaultBranch, path)" />
  }

  @if(blob.content.viewType == "large" || blob.content.viewType == "binary"){
  <a href="@routes.GitEntitiesController.raw(request.repository.owner.userName, request.repository.name, request.repository.defaultBranch, path)">
    @request.messages("repository.viewFile.cant")
  </a>
  }
</div>
</div>

<script src='@routes.Assets.at("dist/javascript/view.js")' type="text/javascript"></script>
}
